<div class="main-container">
  <!-- Blue header with search bar -->
  <div class="top-section">
    <app-search-header (searchChanged)="fetchSuggestions($event)"></app-search-header>
  </div>

  <!-- Skeleton while loading -->
  <div *ngIf="loading" class="skeleton-container">
    <div class="skeleton-card">
      <div class="skeleton city"></div>
      <div class="skeleton icon"></div>
      <div class="skeleton temp"></div>
    </div>
    <div class="skeleton-metrics">
      <div class="skeleton metric-box" *ngFor="let i of [1, 2, 3, 4]"></div>
    </div>
  </div>

  <!-- Current weather block -->
  <div *ngIf="!loading && weatherData" class="current-weather">
    <h2>{{ city }}</h2>
    <img [src]="weatherData.condition.icon" alt="Weather icon" class="main-icon" />
    <h1>{{ weatherData.temp_c }}°</h1>

    <div class="weather-metrics">
      <div class="metric-box">
        <span>💧</span>
        <div>
          <p>Humidity</p>
          <p>{{ weatherData.humidity }}%</p>
        </div>
      </div>
      <div class="metric-box">
        <span>🌬️</span>
        <div>
          <p>Wind Speed</p>
          <p>{{ weatherData.wind_kph }} km/h</p>
        </div>
      </div>
      <div class="metric-box">
        <span>☀️</span>
        <div>
          <p>UV Index</p>
          <p>{{ weatherData.uv }}</p>
        </div>
      </div>
      <div class="metric-box">
        <img [src]="weatherData.condition.icon" alt="UV icon" class="metric-icon" />
        <div>
          <p>{{ weatherData.condition.text }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Forecast row component -->
  <app-forecast-row *ngIf="!loading && forecastDays.length" [forecastDays]="forecastDays"></app-forecast-row>

  <!-- Footer -->
  <footer>
    Built by Hasitha Kaushan • Powered by WeatherAPI
  </footer>
</div>
